{"ast":null,"code":"import _classCallCheck from \"/Users/sabirhussain/Desktop/Work/AzeemDev/Development/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sabirhussain/Desktop/Work/AzeemDev/Development/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sabirhussain/Desktop/Work/AzeemDev/Development/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sabirhussain/Desktop/Work/AzeemDev/Development/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sabirhussain/Desktop/Work/AzeemDev/Development/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sabirhussain/Desktop/Work/AzeemDev/Development/frontend/src/components/authComponents/authAdmin.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport { getJwt } from '../helpers';\n\nvar AuthAdmin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AuthAdmin, _Component);\n\n  function AuthAdmin(props) {\n    var _this;\n\n    _classCallCheck(this, AuthAdmin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AuthAdmin).call(this, props));\n    _this.state = {\n      user: undefined\n    };\n    return _this;\n  }\n\n  _createClass(AuthAdmin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUser();\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser() {\n      var _this2 = this;\n\n      var jwt = getJwt();\n\n      if (!jwt) {\n        this.setState({\n          user: null\n        });\n        return;\n      }\n\n      axios.get('/auth/getUser', {\n        headers: {\n          Authorization: getJwt()\n        }\n      }).then(function (res) {\n        _this2.setState({\n          user: res.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var user = this.state.user;\n\n      if (user === undefined) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, \"Loading...\");\n      }\n\n      if (user === null) {\n        this.props.history.push('/login');\n      }\n\n      return this.props.children;\n    }\n  }]);\n\n  return AuthAdmin;\n}(Component);\n\nexport default withRouter(AuthAdmin);","map":{"version":3,"sources":["/Users/sabirhussain/Desktop/Work/AzeemDev/Development/frontend/src/components/authComponents/authAdmin.js"],"names":["React","Component","axios","withRouter","getJwt","AuthAdmin","props","state","user","undefined","getUser","jwt","setState","get","headers","Authorization","then","res","data","history","push","children"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,MAAT,QAAuB,YAAvB;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAEC;AADK,KAAb;AAFiB;AAKlB;;;;wCAEmB;AAClB,WAAKC,OAAL;AACD;;;8BAES;AAAA;;AACR,UAAMC,GAAG,GAAGP,MAAM,EAAlB;;AACA,UAAI,CAACO,GAAL,EAAU;AACR,aAAKC,QAAL,CAAc;AACZJ,UAAAA,IAAI,EAAE;AADM,SAAd;AAGA;AACD;;AAEDN,MAAAA,KAAK,CAACW,GAAN,CAAU,eAAV,EAA2B;AAAEC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEX,MAAM;AAAvB;AAAX,OAA3B,EAAqEY,IAArE,CAA0E,UAAAC,GAAG,EAAI;AAC/E,QAAA,MAAI,CAACL,QAAL,CAAc;AACZJ,UAAAA,IAAI,EAAES,GAAG,CAACC;AADE,SAAd;AAGD,OAJD;AAKD;;;6BAEQ;AAAA,UACCV,IADD,GACU,KAAKD,KADf,CACCC,IADD;;AAEP,UAAIA,IAAI,KAAKC,SAAb,EAAwB;AACtB,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF;AAKD;;AAED,UAAID,IAAI,KAAK,IAAb,EAAmB;AACjB,aAAKF,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD;;AAED,aAAO,KAAKd,KAAL,CAAWe,QAAlB;AACD;;;;EA3CqBpB,S;;AA8CxB,eAAeE,UAAU,CAACE,SAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport { getJwt } from '../helpers';\n\nclass AuthAdmin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  getUser() {\n    const jwt = getJwt();\n    if (!jwt) {\n      this.setState({\n        user: null\n      });\n      return;\n    }\n\n    axios.get('/auth/getUser', { headers: { Authorization: getJwt() } }).then(res => {\n      this.setState({\n        user: res.data\n      })\n    });\n  }\n\n  render() {\n    const { user } = this.state;\n    if (user === undefined) {\n      return (\n        <div>\n          Loading...\n        </div>\n      );\n    }\n\n    if (user === null) {\n      this.props.history.push('/login');\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default withRouter(AuthAdmin);"]},"metadata":{},"sourceType":"module"}